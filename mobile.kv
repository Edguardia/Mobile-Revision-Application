#Imports
#:import utils kivy.utils


#WindowManager houses all the screens and allows for changing between them
WindowManager:
    LoginScreen:
    MainSelectScreen:
    FailedAuthentication:
    AddQuestionScreen:
    DeleteQuestionScreen:
    AnsweringScreen:
    ErrorScreen:
    CorrectAnswer:
    IncorrectAnswer:
    RegisterScreen:
    LeaderBoard:





#LoginScreen has a button and two inputs for your username and password
<LoginScreen>:
    background_color: utils.get_color_from_hex('#1BFF00')
    id: LoginScreen
    name: "LoginScreen"
    BoxLayout:
        
        
        spacing: '0'
        position_hint: {'center_x':0.5, 'center_y':0.5}
        orientation: 'vertical'

        Label:
            font_size:
            text: "Username"
            font_size: 40
            size: self.texture_size
            
        TextInput:
            id: UsernameBox
            width: 100
            height: 30
            hint_text: "Enter Username"
            
        Label: 
            text: "Password"
            font_size: 25
            size: self.texture_size
            
        TextInput:
            width: 100
            height: 30
            hint_text: "Enter Password"
            id: PasswordBox 

        Button:
            text: "Register New User"
            font_size: 40
            size: self.texture_size
            on_press:
                root.toRegister()
        Button:
            text: "Submit"
            font_size: 40
            size: self.texture_size
            on_press:
                root.login()




<RegisterScreen>:
    id:RegisterScreen
    name: "RegisterScreen"
    BoxLayout:
        spacing: '0'
        orientation: 'vertical'
        position_hint: {'center_x':0.5, 'center_y':0.5}

        Label:
            text: "New Username"

        TextInput:
            hint_text: "Username"
            width: 100
            height: 30
            id: newUsername

        Label:
            text: "New Password"
        
        TextInput:
            hint_text: "Password"
            width: 100
            height: 30
            id: newPassword
        
        Button:
            text: "Submit"
            font_size: 40
            size: self.texture_size
            on_press:
                root.registerUser()

        

#MainSelectScreen has buttons for each screen you may want to go to.
<MainSelectScreen>:
    id:MainSelectScreen
    name: "MainSelectScreen"
    BoxLayout:
        spacing: '0'
        position_hint: {'center_x':0.5, 'center_y':0.5}
        orientation: 'vertical'
        Label:
            text: "Main Select"

        Button:
            text:"Answer Questions"
            on_press: root.answerQuestion()
                

        Button:
            text:'Add Question'
            on_press: root.addQuestion() 

        Button:
            text: "Delete Question"
            on_press: root.delQuestion()

        Button:
            text: "LeaderBoard"
            on_press: root.leaderboardScreen()

#AddQuestionScreen supports a box for your question, its answer and then a submit.
<AddQuestionScreen>:
    id: AddQuestionScreen
    name: "AddQuestionScreen"
    BoxLayout:
        spacing: '0'
        position_hint: {'center_x':0.5, 'center_y':0.5}
        orientation: 'vertical'

        Label:
            text:'What is the question?'

        TextInput:
            id: QuestionBox
            width: 100
            height: 50
            hint_text: "Enter Question"
            

        Label:
            text: "What is the answer"
            
        TextInput:
            id: AnswerBox
            width: 100
            height: 50
            hint_text:'Enter Answer'
            

        Button:
            text: 'Submit'
            on_press: root.uploadQuestion()

<DeleteQuestionScreen>:
    id: DeleteQuestionScreen
    name: "DeleteQuestionScreen"
	BoxLayout:
        spacing: '0'
        position_hint: {'center_x':0.5, 'center_y':0.5}
        orientation: 'vertical'
        Label:
            text: "Delete"

		Spinner:
            id:spinner
            text: "Click to Select Question to delete"
        
        Button:
            bold: True
            text:"Delete Question"
            size: self.texture_size
            on_press:root.deleteQuestions()

<AnsweringScreen>:
    id: AnsweringScreen
    name: "AnsweringScreen"
    BoxLayout:
        spacing: '0'
        position_hint: {'center_x':0.5, 'center_y':0.5}
        orientation: 'vertical'
        Label:
            id: questiontoAnswer
            text: "Refresh"
        GridLayout:
            rows:2
            cols:2
            padding:10
            spacing:10
            Button:
                id: answer0
                on_press: root.checkAns("0")
            Button:
                id: answer1
                on_press: root.checkAns("1")
            Button:
                id: answer2
                on_press: root.checkAns("2")
            Button:
                id: answer3
                on_press: root.checkAns("3")

        
<ErrorScreen>:
    id:ErrorScreen
    BoxLayout:
        spacing: '0'
        position_hint: {'center_x':0.5, 'center_y':0.5}
        orientation: 'vertical'
        Label:
            text:"Error, Please Restart Application"
    



<CorrectAnswer>:
    id: CorrectAnswer
    name: "CorrectAnswer"
    BoxLayout:
        orientation: 'vertical'
        spacing: '0'
        position_hint: {'center_x':0.5, 'center_y':0.5}
        Label:
            background_color: 
            text:"You got the correct answer"

        Label:
            id: UsersScore

<IncorrectAnswer>:
    id: IncorrectAnswer
    name: "IncorrectAnswer"
    BoxLayout:
        orientation: 'vertical'
        spacing: '0'
        position_hint: {'center_x':0.5, 'center_y':0.5}
        Label:
            text:"You got the answer wrong"
        Label:
            id:AnswerLabel



<LeaderBoard>:
    id: LeaderBoard
    name: "LeaderBoard"
    ScrollView:
        GridLayout:
            cols:2
            padding: 10
            spacing: 10
            height: self.minimum_height
            do_scroll_x: False
            id: LeaderBoardList

                

<FailedAuthentication>
    id:FailedAuthentication
    name: "FailedAuthentication"

    BoxLayout:
        orientation: "vertical"
        Label:
            text: "Incorrect Username or Password, Please try again"

